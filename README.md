# Client-Server通信
## 通信协议说明

**该通信协议基于TCP连接，无加密**

**协议的报文结构如图所示：**  
![](https://raw.githubusercontent.com/JairZhu/Computer-Network/master/Client-Server/%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F.PNG)  
  

**服务器提供的服务：**  
1. LIST FILE——列出服务器可下载的文件  
2. TRANSMISSION——将文件传输给客户端  
  
**客户端的请求类型：**  
- GET——向服务器请求一个文件  

**客户端与服务器的具体工作过程：**  
- 服务器等待客户端连接 
- 客户端与服务器建立连接
- 服务器向客户端发送一个报文，报文的数据段中包含服务器提供的下载资源
- 客户端接受该报文后，显示可下载资源，等待用户的选择。用户输入后，根据用户的选择向服务器发送相应的请求报文
- 服务器接受该请求报文后，向客户端发送一个报文头，其中包含下载资源的大小，接着向客户端传输数据
- 客户端接受该报文头后，设置相应的参数，然后接受服务器传输过来的数据
- 数据传输完毕后，客户端和服务器分别关闭该连接
- 服务器再次等待客户端的连接  

**新增功能：** 在服务器端和客户端增加了进度条显示功能，方便观察数据传输的进度

**遇到的问题：** 